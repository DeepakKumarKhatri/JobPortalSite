"use strict";(self.webpackChunkproject=self.webpackChunkproject||[]).push([[728],{2076:(e,t,a)=>{a.d(t,{A:()=>n});var s=a(5043);const n=(e,t,a)=>{const[n,o]=(0,s.useState)([]),[r,i]=(0,s.useState)([]);return(0,s.useEffect)((()=>{const s=((e,t)=>{const a=[],s=Math.ceil(e.length/t);for(let n=1;n<=s;n++)a.push(n);return a})(e,a);o([...s]);const n=((e,t,a)=>e.slice((t-1)*a,t*a))(e,t,a);i([...n])}),[e,o,t,i,a]),{slice:r,range:n}}},5212:(e,t,a)=>{a.d(t,{A:()=>c});var s=a(5043);const n="TableFooter_tableFooter__eQfvx",o="TableFooter_button__oVP8z",r="TableFooter_activeButton__zMapP",i="TableFooter_inactiveButton__2ARYT";var l=a(579);const c=e=>{let{range:t,setPage:a,page:c,slice:d}=e;return(0,s.useEffect)((()=>{d.length<1&&1!==c&&a(c-1)}),[d,c,a]),(0,l.jsx)("div",{className:n,children:t.map(((e,t)=>(0,l.jsx)("button",{className:"".concat(o," ").concat(c===e?r:i),onClick:()=>a(e),children:e},t)))})}},5728:(e,t,a)=>{a.r(t),a.d(t,{default:()=>C});var s=a(5043),n=a(7154),o=a(9628),r=(a(2342),a(5141)),i=a(3519),l=a(1072),c=a(8602),d=a(4282),h=a(4196);var j=a(5212),b=a(2076),u=a(6214);const x={rowStyle:"ManageTab_rowStyle__LmbDG",manageUsers:"ManageTab_manageUsers__8g6n2",col:"ManageTab_col__oiHkY",input:"ManageTab_input__p7z6+",span:"ManageTab_span__uzFbW",addUser:"ManageTab_addUser__g2v-s",button:"ManageTab_button__RUx4J",tableHeader:"ManageTab_tableHeader__GSLq0",tableBody:"ManageTab_tableBody__st-6C",tableBox:"ManageTab_tableBox__qo-RO"},m="JobItem_row__3ptaM",p="JobItem_actions__cBlXY",g="JobItem_button__dIXNN",_="JobItem_edit__0MsZq",f="JobItem_delete__ye7Pf";var A=a(579);const v=e=>(0,A.jsxs)("tr",{className:m,children:[(0,A.jsx)("td",{children:e.jobInfo.title}),(0,A.jsx)("td",{children:e.jobInfo.description}),(0,A.jsx)("td",{children:e.jobInfo.category}),(0,A.jsx)("td",{children:e.jobInfo.startDate}),(0,A.jsx)("td",{children:e.jobInfo.endDate}),(0,A.jsxs)("td",{className:p,children:[(0,A.jsxs)("button",{className:"".concat(_," ").concat(g),onClick:()=>{n.A.get("".concat(u.U+"provider/jobs/"+e.jobInfo._id),{headers:{Authorization:"Bearer "+e.token}}).then((t=>{e.onEdit(t.data.job)})).catch((e=>console.log(e)))},children:[(0,A.jsx)("span",{children:(0,A.jsx)("i",{className:"bi bi-pencil-fill"})}),(0,A.jsx)("span",{children:"Edit"})]}),(0,A.jsxs)(d.A,{className:"".concat(f," ").concat(g),onClick:()=>{e.onDelete(e.jobInfo._id)},children:[(0,A.jsx)("span",{children:(0,A.jsx)("i",{className:"bi bi-trash"})}),(0,A.jsx)("span",{children:"Delete"})]})]})]},e.jobInfo._id),y=e=>{const[t,a]=(0,s.useState)(1),[o,m]=(0,s.useState)([]),[p,g]=(0,s.useState)([]),[_,f]=(0,s.useState)(!0),{slice:y,range:w}=(0,b.A)(o,t,5),N=localStorage.getItem("token");(0,s.useEffect)((()=>{(async()=>{const e=await n.A.get("".concat(u.U+"provider/jobs"),{headers:{Authorization:"Bearer "+N}});f(!1);const t=e.data.jobs;m(t),g(t)})()}),[e.changes,N]);const D=t=>{e.onEditJob(t)};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(i.A,{children:(0,A.jsxs)(l.A,{className:x.rowStyle,children:[(0,A.jsx)(c.A,{className:"".concat(x.manageUsers," col-md-3"),children:(0,A.jsx)("span",{className:x.span,children:"Manage Jobs"})}),(0,A.jsx)(c.A,{className:"".concat(x.col," col-md-6  "),children:(0,A.jsx)(c.A,{className:"d-flex justify-content-center align-items-center",children:(0,A.jsx)("input",{type:"text",id:"search",placeholder:"Search Jobs",className:x.searchBar,onChange:e=>{m(p.filter((t=>t.title.toLowerCase().includes(e.target.value.toLowerCase()))))}})})}),(0,A.jsx)(c.A,{className:"".concat(x.addUser," col-md-3"),children:(0,A.jsx)(d.A,{variant:"primary",id:"add-new-user",className:x.button,onClick:()=>{e.onShowAddUser({show:!0,edit:!1})},children:"Add New Job"})})]})}),o.length>0&&(0,A.jsxs)(i.A,{children:[(0,A.jsxs)("div",{className:x.tableBox,children:[_&&(0,A.jsx)(r.A,{}),(0,A.jsxs)(h.A,{striped:!0,hover:!0,children:[(0,A.jsx)("thead",{children:(0,A.jsxs)("tr",{className:x.tableHeader,children:[(0,A.jsx)("th",{children:" Job Title"}),(0,A.jsx)("th",{children:"Job Description"}),(0,A.jsx)("th",{children:"Category"}),(0,A.jsx)("th",{children:"Start Date"}),(0,A.jsx)("th",{children:"End Date"}),(0,A.jsx)("th",{children:"Actions"})]})}),(0,A.jsx)("tbody",{className:x.tableBody,children:y.map((t=>(0,A.jsx)(v,{token:N,jobInfo:t,onEdit:D,onDelete:e.onShowDelete},t._id)))})]})]}),(0,A.jsx)(j.A,{range:w,slice:y,setPage:a,page:t})]}),0===o.length&&(0,A.jsx)("h3",{children:"No Jobs Data!"})]})};var w=a(5284);const N=e=>{let{isDelete:t=!1,...a}=e;return(0,A.jsx)(A.Fragment,{children:(0,A.jsxs)(w.A,{...a,size:t?"md":"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[t&&(0,A.jsx)(w.A.Header,{className:x.headerModal,children:(0,A.jsx)(w.A.Title,{id:"contained-modal-title-vcenter",children:a.children.title})}),!t&&(0,A.jsx)(w.A.Header,{className:x.editModal,children:(0,A.jsx)(w.A.Title,{id:"contained-modal-title-vcenter",children:a.children.title})}),t&&(0,A.jsx)(w.A.Body,{style:{display:"flex",justifyContent:"center"},children:a.children.body}),!t&&(0,A.jsx)(w.A.Body,{children:a.children.body}),t&&(0,A.jsx)(w.A.Footer,{className:"d-flex justify-content-between",children:(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(d.A,{variant:"danger",size:"md",onClick:a.onOk,children:"Ok"})," ",(0,A.jsx)(d.A,{variant:"danger",size:"md",onClick:a.onHide,children:"Close"})]})})]})})};var D=a(3892),I=a(2351);const S={submitBtn:"AddJob_submitBtn__Ei7A0",button:"AddJob_button__I8lAD",requiredField:"AddJob_requiredField__VBw8y"},k=e=>{let{label:t,...a}=e;const[s,n]=(0,D.Mt)(a);return(0,A.jsxs)("div",{className:"mb-2",children:[(0,A.jsx)("label",{htmlFor:s.name,className:S.requiredField,children:t}),(0,A.jsx)("input",{className:"form-control shadow-none ".concat(n.touched&&n.error&&"is-invalid"," "),...s,...a,autoComplete:"off"}),(0,A.jsx)(D.Kw,{component:"div",name:s.name,style:{color:"red"}})]})},B=e=>{let{label:t,...a}=e;const[s,n]=(0,D.Mt)(a);return(0,A.jsxs)("div",{className:"mb-2",children:[(0,A.jsx)("label",{htmlFor:s.id,className:S.requiredField,children:t}),(0,A.jsx)("select",{className:"form-control  ".concat(n.touched&&n.error&&"is-invalid"," "),...s,...a}),(0,A.jsx)(D.Kw,{component:"div",name:s.name,style:{color:"red"}})]})};var F=a(3033);function J(e){let t={title:"",description:"",startDate:"",endDate:"",category:""};e.jobInfo&&(t={title:e.jobInfo.title,description:e.jobInfo.description,startDate:e.jobInfo.startDate,endDate:e.jobInfo.endDate,category:e.jobInfo.category});const a=F.Ik({title:F.Yj().max(30).required("Required"),description:F.Yj().max(100,"Must be 100 characters or less").required("Required"),startDate:F.p6().required("Required"),endDate:F.p6().required("Required"),category:F.Yj().required("Required")});return(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(D.l1,{initialValues:t,validationSchema:a,onSubmit:(t,a)=>{let{setSubmitting:s}=a;((t,a)=>{e.onAdd(t)})({...e.jobInfo,...t})},children:t=>(0,A.jsxs)(I.A,{onSubmit:t.handleSubmit,children:[(0,A.jsxs)("div",{children:[(0,A.jsx)(k,{label:"Title",name:"title",type:"text"}),(0,A.jsx)(k,{label:"Description ",name:"description",type:"text-area"}),(0,A.jsxs)(B,{label:"Category ",name:"category",children:[(0,A.jsx)("option",{value:"",children:"Select"}),(0,A.jsx)("option",{value:"Software Development",children:"Software Development"}),(0,A.jsx)("option",{value:"HR Department",children:"HR Department"}),(0,A.jsx)("option",{value:"Techincal and Hardware",children:"Techincal and Hardware"}),(0,A.jsx)("option",{value:"Front Desk",children:"Front Desk"})]}),(0,A.jsx)(k,{label:"Start date ",name:"startDate",type:"date"}),(0,A.jsx)(k,{label:"  End date ",name:"endDate",type:"date"})]}),e.jobInfo?(0,A.jsx)(A.Fragment,{children:(0,A.jsx)("div",{style:{display:"flex",justifyContent:"space-between"},children:(0,A.jsx)(d.A,{className:S.submitBtn,type:"submit",children:"Edit Job"})})}):(0,A.jsx)(d.A,{className:S.submitBtn,type:"submit",style:{display:"flex",justifyContent:"center",alignItem:"center"},children:"Add Job"})]})})})}let T;function C(){const[e,t]=(0,s.useState)(!1),[a,i]=(0,s.useState)(!1),[l,c]=(0,s.useState)(!1),[d,h]=(0,s.useState)({show:!1,inititalValues:{}}),[j,b]=(0,s.useState)(!1),x=localStorage.getItem("token");(0,s.useEffect)((()=>{document.title=u.l.vE}),[]);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(s.Suspense,{fallback:(0,A.jsx)(r.A,{}),children:[a&&(0,A.jsx)(r.A,{}),(0,A.jsx)(N,{show:l,onHide:()=>{c(!1)},children:{title:"Add new Job",body:(0,A.jsx)(J,{onAdd:a=>{i(!0),n.A.post("".concat(u.U+"provider/add-job"),{...a},{headers:{Authorization:"Bearer "+x}}).then((a=>{t(!e),i(!1),c(!1),o.oR.success(a.data.message)})).catch((e=>{i(!1),o.oR.error("Oops something went wrong")}))}})}}),(0,A.jsx)(N,{show:d.show,onHide:()=>{h((e=>({show:!1,inititalValues:e.inititalValues})))},children:{title:"Edit the Job",body:(0,A.jsx)(J,{jobInfo:d.inititalValues,onAdd:a=>{const s=a._id,r={jobId:a.jobId,title:a.title,description:a.description,category:a.category,endDate:a.endDate,providerId:a.providerId,startDate:a.startDate};i(!0),n.A.put("".concat(u.U+"provider/edit-job/"+s),r,{headers:{Authorization:"Bearer "+x}}).then((a=>{t(!e),i(!1),h((e=>({show:!1,inititalValues:e.inititalValues}))),o.oR.success(a.data.message)})).catch((e=>{i(!1),o.oR.error("Oops something went wrong")}))}})}})]}),(0,A.jsx)(N,{show:j,isDelete:!0,onOk:()=>{b(!1),i(!0),n.A.delete("".concat(u.U+"provider/jobs/"+T),{headers:{Authorization:"Bearer "+x}}).then((a=>{i(!1),t(!e),o.oR.success(a.data.message)})).catch((e=>{i(!1),o.oR.error("Oops something went wrong")}))},onHide:()=>{b(!1)},children:{title:"Delete Job",body:(0,A.jsx)("h1",{children:"Are you sure?"})}}),(0,A.jsx)(y,{onShowAddUser:c,onEditJob:e=>{h({show:!0,inititalValues:e})},onShowDelete:e=>{T=e,b(!0)},changes:e}),(0,A.jsx)(o.N9,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})}},4196:(e,t,a)=>{a.d(t,{A:()=>l});var s=a(4600),n=a.n(s),o=a(5043),r=a(7852),i=a(579);const l=o.forwardRef(((e,t)=>{let{bsPrefix:a,className:s,striped:o,bordered:l,borderless:c,hover:d,size:h,variant:j,responsive:b,...u}=e;const x=(0,r.oU)(a,"table"),m=n()(s,x,j&&"".concat(x,"-").concat(j),h&&"".concat(x,"-").concat(h),o&&"".concat(x,"-striped"),l&&"".concat(x,"-bordered"),c&&"".concat(x,"-borderless"),d&&"".concat(x,"-hover")),p=(0,i.jsx)("table",{...u,className:m,ref:t});if(b){let e="".concat(x,"-responsive");return"string"===typeof b&&(e="".concat(e,"-").concat(b)),(0,i.jsx)("div",{className:e,children:p})}return p}))}}]);
//# sourceMappingURL=728.bdab0d03.chunk.js.map