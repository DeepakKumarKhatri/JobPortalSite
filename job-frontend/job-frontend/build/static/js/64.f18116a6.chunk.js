"use strict";(self.webpackChunkproject=self.webpackChunkproject||[]).push([[64],{7903:(e,s,a)=>{a.d(s,{A:()=>d});var r=a(5043);const n="TableFooter_tableFooter__A4x+7",t="TableFooter_button__VTfvN",i="TableFooter_activeButton__FTdK9",o="TableFooter_inactiveButton__EeLT5";var l=a(579);const d=e=>{let{range:s,setPage:a,page:d,slice:c}=e;return(0,r.useEffect)((()=>{c.length<1&&1!==d&&a(d-1)}),[c,d,a]),(0,l.jsx)("div",{className:n,children:s.map(((e,s)=>(0,l.jsx)("button",{className:"".concat(t," ").concat(d===e?i:o),onClick:()=>a(e),children:e},s)))})}},4494:(e,s,a)=>{a.d(s,{A:()=>n});var r=a(5043);const n=(e,s,a)=>{const[n,t]=(0,r.useState)([]),[i,o]=(0,r.useState)([]);return(0,r.useEffect)((()=>{const r=((e,s)=>{const a=[],r=Math.ceil(e.length/s);for(let n=1;n<=r;n++)a.push(n);return a})(e,a);t([...r]);const n=((e,s,a)=>e.slice((s-1)*a,s*a))(e,s,a);o([...n])}),[e,t,s,o,a]),{slice:i,range:n}}},2064:(e,s,a)=>{a.r(s),a.d(s,{default:()=>E});var r=a(5043),n=a(7154),t=a(3519),i=a(9628),o=(a(2342),a(3892)),l=a(3033);const d="AddUserForm_main__+4FjJ",c="AddUserForm_formInputs__l872S",u="AddUserForm_formInputs__side__+AvSo",m="AddUserForm_age__r-OUX",h="AddUserForm_formInputs__side__inner__7mo0x",x="AddUserForm_gender__Yk+y3";var j=a(3933),g=a(579);const p=e=>{let s={name:"",email:"",password:"",mobile:"",age:"",gender:"",qualification:"",experience:"",role:""};e.userInfo&&(s={id:e.userInfo.id,name:e.userInfo.name,email:e.userInfo.email,password:e.userInfo.password,mobile:e.userInfo.mobile,age:e.userInfo.age,gender:e.userInfo.gender,qualification:e.userInfo.qualification,experience:e.userInfo.experience,role:e.userInfo.role});return(0,g.jsx)(o.l1,{initialValues:s,validationSchema:l.Ik({name:l.Yj().min(4,"Name should be more than 4 characters").max(25,"Name should be less than 25 characters").required("Name is a required field"),email:l.Yj().email("Invalid email address").required("Email is a required field"),password:l.Yj().min(6,"Password must be minimum 6 characters").required("Password is a required field"),mobile:l.Yj().required("Phone number is required").matches(/^[0-9]+$/,"Must be only digits").min(10,"Must be exactly 10 digits").max(10,"Must be exactly 10 digits"),gender:l.Yj().required("Gender Required"),age:l.ai().max(60,"Age should be less than or equal to 60").min(18,"Age should be greater than or equal to 18").required("Age Required"),qualification:l.Yj().required("Qualification Required"),experience:l.Yj(),role:l.Yj().required("Role required")}),onSubmit:(s,a)=>{let{setSubmitting:r}=a;((s,a)=>{e.onAdd(s)})({...e.userInfo,...s})},children:s=>(0,g.jsx)("div",{className:d,children:(0,g.jsxs)(o.lV,{id:"manageUser-form",children:[(0,g.jsx)("div",{className:c,children:(0,g.jsx)(j.ks,{label:"Name",id:"name",name:"name",mandatory:"true"})}),(0,g.jsx)("div",{className:c,children:(0,g.jsx)(j.ks,{label:"Email",id:"email",name:"email",mandatory:"true"})}),(0,g.jsx)("div",{className:c,children:(0,g.jsx)(j.ks,{label:"Password",id:"password",type:"password",name:"password",mandatory:"true",disabled:!!e.userInfo})}),(0,g.jsx)("div",{className:c,children:(0,g.jsx)(j.ks,{label:"Mobile No",id:"mobile",name:"mobile",mandatory:"true"})}),(0,g.jsxs)("div",{className:u,children:[(0,g.jsx)("div",{className:"".concat(h," ").concat(m),children:(0,g.jsx)(j.Q7,{label:"Age",name:"age",id:"age",mandatory:"true"})}),(0,g.jsxs)("div",{className:h,children:[(0,g.jsxs)("label",{children:["Gender",(0,g.jsx)("span",{className:"text-danger",children:"*"})]}),(0,g.jsxs)("div",{className:x,children:[(0,g.jsxs)("div",{children:[(0,g.jsx)(o.D0,{type:"radio",value:"Male",name:"gender",id:"Male"}),(0,g.jsx)("label",{htmlFor:"Male",children:"Male"})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)(o.D0,{type:"radio",value:"Female",name:"gender",id:"Female"}),(0,g.jsx)("label",{htmlFor:"Female",children:"Female"})]})]}),s.errors.gender&&(0,g.jsx)("div",{className:"error",children:s.errors.gender})]})]}),(0,g.jsxs)("div",{className:u,children:[(0,g.jsx)("div",{className:h,children:(0,g.jsxs)(j.pp,{name:"qualification",id:"qualification",label:"Qualification",mandatory:"true",children:[(0,g.jsx)("option",{value:"",children:"Select"}),(0,g.jsx)("option",{value:"Post Graduate",children:"Post Graduate"}),(0,g.jsx)("option",{value:"Graduate",children:"Graduate"}),(0,g.jsx)("option",{value:"Diploma",children:"Diploma"}),(0,g.jsx)("option",{value:"High School",children:"High School"})]})}),(0,g.jsx)("div",{className:h,children:(0,g.jsxs)(j.pp,{name:"experience",id:"experience",label:"Experience",children:[(0,g.jsx)("option",{value:"",children:"Select"}),(0,g.jsx)("option",{value:"0-2",children:"0-2"}),(0,g.jsx)("option",{value:"3-7",children:"3-7"}),(0,g.jsx)("option",{value:"7-10",children:"7-10"}),(0,g.jsx)("option",{value:"10-50",children:"10-50"})]})})]}),(0,g.jsx)("div",{className:c,children:(0,g.jsxs)(j.pp,{name:"role",id:"role",label:"Role",mandatory:"true",children:[(0,g.jsx)("option",{value:"User",children:"User"}),(0,g.jsx)("option",{value:"Job Provider",children:"Job Provider"})]})})]})})})};var _=a(1072),b=a(8602),f=a(4282),v=a(4196),A=a(4494),U=a(7903),N=a(5141),w=a(6214);const y={rowStyle:"ManageUsers_rowStyle__zGNjU",manageUsers:"ManageUsers_manageUsers__5qqlq",col:"ManageUsers_col__iIK1Q",input:"ManageUsers_input__YogDF",span:"ManageUsers_span__z9tlt",addUser:"ManageUsers_addUser__Bj0K+",button:"ManageUsers_button__6aMGw",tableHeader:"ManageUsers_tableHeader__GpK5B",tableBody:"ManageUsers_tableBody__wYRDg",tableBox:"ManageUsers_tableBox__DnGL4",search:"ManageUsers_search__zz-9S"};var I=a(6405),S=a(6267);const M=e=>{const s=localStorage.getItem("token");return(0,g.jsxs)("tr",{className:I.A.row,children:[(0,g.jsx)("td",{children:e.userInfo.name}),(0,g.jsx)("td",{children:e.userInfo.email}),(0,g.jsx)("td",{children:e.userInfo.mobile}),(0,g.jsx)("td",{children:e.userInfo.role}),(0,g.jsx)("td",{children:(0,S.A)(e.userInfo.createdAt)}),(0,g.jsxs)("td",{className:I.A.actions,children:[(0,g.jsxs)("button",{className:"".concat(I.A.edit," ").concat(I.A.button),onClick:()=>{n.A.get("".concat(w.U+"admin/users/"+e.userInfo._id),{headers:{Authorization:"Bearer "+s}}).then((s=>{e.onEdit(s.data.user)})).catch((e=>console.log(e)))},children:[(0,g.jsx)("span",{children:(0,g.jsx)("i",{className:"bi bi-pencil-fill"})}),(0,g.jsx)("span",{children:"Edit"})]}),(0,g.jsxs)("button",{className:"".concat(I.A.delete," ").concat(I.A.button),onClick:()=>{e.onDelete(e.userInfo._id)},children:[(0,g.jsx)("span",{children:(0,g.jsx)("i",{className:"bi bi-trash3-fill"})}),(0,g.jsx)("span",{children:"Delete"})]})]})]})};let q=[];const F=e=>{const[s,a]=(0,r.useState)(1),[t,i]=(0,r.useState)(!0),[o,l]=(0,r.useState)([]),d=(0,r.useRef)(),c=localStorage.getItem("token");(0,r.useEffect)((()=>{i(!0),n.A.get("".concat(w.U+"admin/users/"),{headers:{Authorization:"Bearer "+c}}).then((e=>{const s=e.data.users;i(!1),q=[...s],l(s)}))}),[e.changes,c]);const{slice:u,range:m}=(0,A.A)(o,s,5),h=s=>{e.onEditUser(s)};return(0,g.jsxs)(r.Fragment,{children:[(0,g.jsxs)(_.A,{className:y.rowStyle,children:[(0,g.jsx)(b.A,{className:"".concat(y.manageUsers," col-md-3"),children:(0,g.jsx)("span",{className:y.span,children:"Manage Users"})}),(0,g.jsxs)(b.A,{className:"".concat(y.col," col-md-6  "),children:[(0,g.jsx)(b.A,{className:"".concat(y.search,"d-flex justify-content-center align-items-center"),children:(0,g.jsx)("input",{type:"text",id:"search",placeholder:"Search Users",className:y.searchBar,onChange:e=>{const s=d.current.value;l("All"!==s?q.filter((a=>a.name.toLowerCase().includes(e.target.value.toLowerCase())&&a.role===s)):q.filter((s=>s.name.toLowerCase().includes(e.target.value.toLowerCase()))))}})}),(0,g.jsxs)(b.A,{className:y.input,children:[(0,g.jsx)("label",{htmlFor:"type",children:"Role"}),(0,g.jsxs)("select",{name:"type",id:"type",ref:d,onChange:e=>{"All"===e.target.value?l(q):l(q.filter((s=>s.role===e.target.value)))},children:[(0,g.jsx)("option",{value:"All",children:"All"}),(0,g.jsx)("option",{value:"User",children:"User"}),(0,g.jsx)("option",{value:"Job Provider",children:"Job Provider"})]})]})]}),(0,g.jsx)(b.A,{className:"".concat(y.addUser," col-md-3"),children:(0,g.jsx)(f.A,{id:"add-new-user",className:y.button,onClick:()=>{e.onShowAddUser(!0)},children:"Add New User"})})]}),t&&(0,g.jsx)(N.A,{}),o.length>0&&(0,g.jsx)("div",{className:y.tableBox,children:(0,g.jsxs)(v.A,{striped:!0,hover:!0,children:[(0,g.jsx)("thead",{children:(0,g.jsxs)("tr",{className:y.tableHeader,children:[(0,g.jsx)("th",{children:"Name"}),(0,g.jsx)("th",{children:"Email"}),(0,g.jsx)("th",{children:"Mobile"}),(0,g.jsx)("th",{children:"User Type"}),(0,g.jsx)("th",{children:"Created"}),(0,g.jsx)("th",{children:"Actions"})]})}),(0,g.jsx)("tbody",{className:y.tableBody,children:u.map((s=>(0,g.jsx)(M,{userInfo:s,onEdit:h,onDelete:e.onShowDelete},s._id)))})]})}),(0,g.jsx)(U.A,{range:m,slice:u,setPage:a,page:s}),0===o.length&&(0,g.jsx)("h3",{className:"text-center fw-bold",children:"No user Data!"})]})};var k=a(3067);const B=r.lazy((()=>a.e(644).then(a.bind(a,3263))));let D;const E=()=>{const[e,s]=(0,r.useState)(!1),[a,o]=(0,r.useState)(!1),[l,d]=(0,r.useState)(!1),[c,u]=(0,r.useState)({show:!1,inititalValues:{}}),[m,h]=(0,r.useState)(!1),x=localStorage.getItem("token");(0,r.useEffect)((()=>{document.title=w.l.D5}),[]);return(0,g.jsxs)(r.Fragment,{children:[(0,g.jsxs)(r.Suspense,{fallback:(0,g.jsx)(N.A,{}),children:[l&&(0,g.jsx)(t.A,{className:k.A.overlaySpinner,children:(0,g.jsx)(N.A,{})}),(0,g.jsx)(B,{show:e,onHide:()=>{s(!1)},formModal:!0,buttonTitle:"Add User",formId:"manageUser-form",children:{title:"Add new User",body:(0,g.jsx)(p,{edit:!0,inititalValue:!0,onAdd:e=>{d(!0),n.A.post("".concat(w.U+"admin/add-user"),{...e},{headers:{Authorization:"Bearer "+x}}).then((e=>{d(!1),o(!a),s(!1),i.oR.success(e.data.message)})).catch((e=>{d(!1),i.oR.error("Oops something went wrong")}))}})}}),(0,g.jsx)(B,{show:c.show,onHide:()=>{u((e=>({show:!1,inititalValues:e.inititalValues})))},formModal:!0,buttonTitle:"Edit User",formId:"manageUser-form",children:{title:"Edit User",body:(0,g.jsx)(p,{userInfo:c.inititalValues,onAdd:e=>{const s=e._id,r={name:e.name,email:e.email,password:e.password,mobile:e.mobile,age:e.age,gender:e.gender,qualification:e.qualification,experience:e.experience,role:e.role};d(!0),n.A.put("".concat(w.U+"admin/edit-user/"+s),r,{headers:{Authorization:"Bearer "+x}}).then((e=>{u((e=>({show:!1,inititalValues:e.inititalValues}))),d(!1),o(!a),i.oR.success(e.data.message)})).catch((e=>{d(!1),i.oR.error("Oops something went wrong")}))}})}})]}),(0,g.jsx)(B,{show:m,isDelete:!0,onOk:()=>{h(!1),d(!0),n.A.delete("".concat(w.U+"admin/users/"+D),{headers:{Authorization:"Bearer "+x}}).then((e=>{o(!a),d(!1),i.oR.success(e.data.message)})).catch((e=>{d(!1),i.oR.error("Oops something went wrong")}))},onHide:()=>{h(!1)},children:{title:"Delete user",body:(0,g.jsx)("h5",{children:"Are you sure?"})}}),(0,g.jsx)(F,{onShowAddUser:s,onEditUser:e=>{u({show:!0,inititalValues:e})},onShowDelete:e=>{D=e,h(!0)},changes:a}),(0,g.jsx)(i.N9,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})}},6267:(e,s,a)=>{a.d(s,{A:()=>r});const r=e=>new Date(e).toLocaleString("en-gb",{day:"numeric",month:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})},4196:(e,s,a)=>{a.d(s,{A:()=>l});var r=a(4600),n=a.n(r),t=a(5043),i=a(7852),o=a(579);const l=t.forwardRef(((e,s)=>{let{bsPrefix:a,className:r,striped:t,bordered:l,borderless:d,hover:c,size:u,variant:m,responsive:h,...x}=e;const j=(0,i.oU)(a,"table"),g=n()(r,j,m&&"".concat(j,"-").concat(m),u&&"".concat(j,"-").concat(u),t&&"".concat(j,"-striped"),l&&"".concat(j,"-bordered"),d&&"".concat(j,"-borderless"),c&&"".concat(j,"-hover")),p=(0,o.jsx)("table",{...x,className:g,ref:s});if(h){let e="".concat(j,"-responsive");return"string"===typeof h&&(e="".concat(e,"-").concat(h)),(0,o.jsx)("div",{className:e,children:p})}return p}))},6405:(e,s,a)=>{a.d(s,{A:()=>r});const r={row:"ManageUserItem_row__oEUnP",actions:"ManageUserItem_actions__N2TiS",button:"ManageUserItem_button__0o0Xs",edit:"ManageUserItem_edit__0GnvG",delete:"ManageUserItem_delete__Y+9mM"}},3067:(e,s,a)=>{a.d(s,{A:()=>r});const r={overlaySpinner:"ManageUsersPage_overlaySpinner__dl4MN"}}}]);
//# sourceMappingURL=64.f18116a6.chunk.js.map